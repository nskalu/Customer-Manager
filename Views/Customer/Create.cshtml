
@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>
<form id="create">
    <div class="form-group">
        <label>Name</label>
        <input id="name" required type="text" value="" class="form-control" />
    </div>

    <div class="form-group">
        <label>Address</label>
        <input id="address" required type="text" value="" class="form-control" />
    </div>
    <div class="form-group">
        <label>Phone</label>
        <input id="phone" required type="text" value="" class="form-control" />
    </div>

    <div class="form-group">
        <label>Date of Birth</label>
        <input id="dob" type="text" value="" class="form-control" />
    </div>
    <div class="form-group">
        <label>Email Address</label>
        <input id="email" required type="text" value="" class="form-control" />
    </div>

    <a href="#" class="btn btn-primary js-create" id="asubmit" type="submit">Submit</a>
    @*<button class="btn btn-primary js-create">Submit</button>*@
</form>

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    <script>


        $(document).ready(function () {


            $('#asubmit').on('click', function (e) {
                e.preventDefault;
                var customer = {
                    Name: $('#name').val(),
                    Address: $('#address').val(),
                    Phone: $('#phone').val(),
                    DOB: $('#dob').val(),
                    Email: $('#email').val()
                    //Id: $('#name').val()
                };
                $.ajax({
                    url: '../Api/Customer',
                    method: 'POST',
                    dataType: 'json',
                    contentType: 'application/json',
                    data: JSON.stringify(customer),
                    success: function () {
                        alert("Saved Successfully"),
                        $(':input[type=text], textarea').val("") //clears the content of the textboxes after you click ok on the dialogue box
                    },
                    error: function (xhr, status, error) {
                        alert("error while saving :" + error)
                    }
                })

            });

        });
    </script>
 }



